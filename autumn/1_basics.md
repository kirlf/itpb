# Основы языка C

## Зачем нужно изучать язык C?

Язык С (Си) - это один из языков программирования, наиболее подходящих для создания производительных (то есть быстрых) приложений. 

**C** занимает, своего рода, пограничную позицию: 
- данный язык достаточно легко понимаем для человека (в сравнении с ассемблером и машинным кодом), и поэтому на нем относительно легко писать объемные программы за относительно короткий срок, 
- и при этом созданный на его основе код наиболее быстро обрабатывается компьютером. 

Умение писать программы на данном языке - один из востребованных навыков в сфере телекоммуникаций.

Болле того, язык С – это прообраз большинства популярных языков программирования таких, как C++, Java и C# (собственно, поэтому их и называют С-подобными).  Очень полезно знать, что находится под "капотом" большинства программных продуктов современности, и язык С - это прекрасный повод поговорить о таких темах, как типизация, организация памяти, указатели и т.д. 


## Основная литература

Стандартом де-факто для языка С является книга от его же создателей:

> *Керниган, Брайан Уилсон, Деннис Макалистэйр Ритчи. [Язык программирования С/The C Programming Language](https://nsu.ru/xmlui/bitstream/handle/nsu/9058/kr.pdf?sequence=1&isAllowed=y). Вильямс, 2015.*

Далее по тексту мы будем несколько раз обращаться к ней через обозначение [Керниган, Ричи], чтобы адресовать читателя к той или иной главе для более подробного изучения.

У данной книги есть еще одно, более популярное издание:

> Керниган, Б. and Ритчи, Д., 2007. [Язык программирования Си= The C programming language](http://dushanov.narod.ru/books/c/C-ru.pdf).—2-е изд. М.: Вильямс, p.304.)

> Ritchie, D.M. and Kernighan, B.W., 1998. [The C Programming Language](http://www2.cs.uregina.ca/~hilder/cs833/Other%20Reference%20Materials/The%20C%20Programming%20Language.pdf). Prentice Hall; 2 edition (April 1, 1988).

К нему удобно обращаться за примерами исходных кодов. Однако, по тексту будут ссылки именно по первому из приведенных изданий, в силу более удобной структурированности глав.


## Необходимое и достаточное для простейшей программы

Несколько важных моментов, которые нужно знать на старте:

- Минимальная программа на С должна состоять из функции следующего вида:

```c
int main()
{
  return 0;
}
```

Пожалуйста, не забывайте об этом. О том, что именно составляет данный минимум мы поговорим чуть позже. 

- В конце каждой строки должен стоять знак точки с запятой `;`.

Иначе программа не скомпилируется (о процедуре компилиции будет сказано ниже).

- Знаки табуляции не обязательны.

Однако, считается хорошим тоном повышать с помощью них читаемость вашего кода.

- В коде можно писать комментарии:

```c
int main()
{
  // Однострочный комментарий
  /* Многострочный
  комментарий */
  
  return 0;
}
```
Комментарии не учитываются компьютером при компиляции или исполнении программы, они нужны для программистов.


## Переменные

Для того, чтобы изучить какой-либо язык программирования, нужно писать на нем программы. Напишем простую.

```c
int main()
{
  int a = 2;
  int b = 3;
  int c = a + b;
}
```

Проговорим сделанное:
1) Мы задали несколько переменных: `int a`, `int b` и `int c`.

Язык C - это язык со **статической типизацией**, а значит тип данных указывается в явном виде перед названием пременной. В нашем случае, это `int` - целочисленное значение. Тип данных говорит компьютеру сколько **байт** он должен выделить в своей памяти для хранения той или иной переменной. Статическая типизация ускоряет работу программ.

> Очень красочно про переменные (на примере языка Java) расказывается в данном учебном материале: ["Элли, переменные и их типы" (javarush.ru)](https://javarush.ru/quests/lectures/questsyntax.level00.lecture04). Советую прочитать.

Названия других типов данных, а также размер занимаемой ими памяти вы може найти в данной таблице: 

> ["Система типов Си: Базовые типы"](https://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%82%D0%B8%D0%BF%D0%BE%D0%B2_%D0%A1%D0%B8#%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5_%D1%82%D0%B8%D0%BF%D1%8B).

2. Двум из них мы присвоили целочисленные значения.

Знак `=` означает в языке С (и в большинстве других языков программирования) присвоение значения. Для проверки равенства двух переменных используется оператор `==`.

Более подробно об этом можно прочесть в книге в главах: 
- "15.7. Операции равенства" и 
- "15.14. Операция присваивания".

3. Третьей переменной присвоили результат арифметическкого сложения двух других.

Подробнее про арифметические опирации можно прочесть в [Керниган, Ричи]:
- "1.2. Переменные и арифметика"

В целом, ничего сложного, главное привыкнуть. Помните, имена переменных не должны пересекаться в рамках одной области видимости (ниже об этом буде чуть подробнее). 


## Функции 

Теперь давайте обсуди, что такое ```int main()```. 

В ходе написания кода довольно удобно выносить некоторые участки кода в, так сказать, "черные ящики", которыми после можно пользоваться, не задумываясь особо об их наполнении. Роль таких "черных ящиков" в С играют **функции**.

Побробнее см. в [Керниган, Ричи]:
- "1.7. Функции"

Функции начинаются с типа данных возвращаемого значения; имееют имя, заканчивающееся круглыми скобками, и тело (код, который выполняет функция), заключенное в фигурные скобки. В нашем примере выше функция была одна - ```int main()```. Она возвращала целое число (```return 0```) и это условность языка С, что ```main``` всегда должна быть и должна возвращать целочисленное значение.

Однако, можно писать и другие функции, в сколь угодном количестве. Функция может ничего не возвращать, но тогда типом данных перед названием такой функции должен быть ```void``` ("пустота").

Все переменные, объявленные внутри функции являются **локальными**, их область видимости - функция, в которой они были объявлены, то есть другие функции не видят данные переменные и не могут производить с ними никаких действий. Более подробно см. [Керниган, Ричи]:
- "4.5. Правила, определяющие область действия"

После завершения работы функции все память, содержащая её локальные переменные и не определенные в *куче* (об этом поговорим позже), автоматически очищается. 


## Компиляция программ

Для того, чтобы запустить программу, написанную на языке С, нужно её сначала скомпилировать.

Для иллюстрации предлагаю ознакомиться со следующей "вырезкой" (рис. 1) из книги *Гриффитс, Гриффитс: [Изучаем программирование на C](https://yadi.sk/i/xKGX0B04AKLNtA)* (советуем к ознакомлению).

<img src="https://habrastorage.org/webt/lu/yr/1a/luyr1aehrxerllynlysahn5lbeq.png" width="700"/>

*Рис.1. Иллюстрация процесса компиляции. Гриффитс, Гриффитс: Изучаем программирование на C, - М. Эксмо, 2013. - С. 38.*

Процесс компиляции нужно осуществлять в командной строке компьютера:

```sh
$ <название компилятора> <исходный код> -o <имя исполняемого файла>
```

Например так:

```sh
$ gcc source_code.c -o execute_file
```

Чтобы запустить исполняемый файл в командной строке, достаточно указать его имя:

```sh
$ ./execute_file
```
